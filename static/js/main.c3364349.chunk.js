(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{33:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c,a=n(0),o=n.n(a),r=n(15),i=n.n(r),l=(n(33),n(3)),s=n(21),d=n(5),b=n(4),j=n.n(b),u=n(1),O=function(){return Object(u.jsxs)("div",{className:"header section",children:[Object(u.jsx)("p",{className:"title",children:"Calendar View"}),Object(u.jsxs)("div",{className:"buttons-form header-buttons",children:[Object(u.jsx)("button",{children:"Month"}),Object(u.jsx)("button",{children:"Week"}),Object(u.jsx)("button",{children:"Day"})]})]})},h=function(e){var t=e.currentMonth,n=e.prevMonthHandler,c=e.currentMonthHandler,a=e.nextMonthHandler;return Object(u.jsxs)("div",{className:"controls section",children:[Object(u.jsxs)("div",{className:"buttons-form",children:[Object(u.jsx)("button",{type:"button",onClick:c,children:"Today"}),Object(u.jsx)("button",{type:"button",onClick:n,children:"Back"}),Object(u.jsx)("button",{type:"button",onClick:a,children:"Next"})]}),Object(u.jsx)("p",{className:"title",children:t})]})},m=n(6),f=n(22),x=n(13),v=n.n(x),p=n(23),y=n(7),g=Object(y.b)("todo/Add"),M=Object(y.b)("todo/Remove"),C=Object(y.b)("todo/Change"),D=Object(y.b)("todo/Current"),k=function(e){return e.todos.items},w=function(e){return e.todos.current},N=p.a.div(c||(c=Object(f.a)(["\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n\n  & div {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 100%;\n    height: 30px;\n    margin-bottom: 3px;\n\n    border-radius: 7px;\n    background-color: #3b86ff;\n    color: #fff;\n  }\n"]))),Y=function(e){var t=e.firstDay,n=e.selectedMonth,c=e.handleOpenModal,a=e.handleModalPosition,o=Object(l.c)(k),r=Object(l.b)(),i=t.clone().subtract(1,"day"),s=Object(m.a)(Array(42)).map((function(){return i.add(1,"day").clone()})),d=function(e){return function(e){return j()().isSame(e,"day")}(e)?"date current-day":(t=e,n.isSame(t,"month")?"date":"date opacity");var t};return Object(u.jsxs)("div",{className:"calendar-wrap",children:[Object(m.a)(Array(7)).map((function(e,t){return Object(u.jsx)("div",{className:"calendar-cell header-cell",children:j()().day(t+1).format("ddd")},v.a.generate())})),s.map((function(e){return Object(u.jsx)("div",{className:"calendar-cell",onClick:function(t){return c(t,e)},children:Object(u.jsxs)(N,{children:[Object(u.jsx)("p",{className:d(e),children:e.format("D")}),Object(m.a)(o).sort((function(e,t){return new Date("".concat(e.date,", ").concat(e.time))-new Date("".concat(t.date,", ").concat(t.time))})).map((function(t){return t.date===e.format("YYYY-MM-DD")&&Object(u.jsx)("div",{id:"todo",onClick:function(e){return function(e,t){r(D(t)),a(e,t),console.log(t)}(e,t)},children:t.notes},v.a.generate())}))]})},e.unix())}))]})},S=function(e){var t=e.cursorPos,n=e.handleModalClose,c=e.chosenDate,o=Object(l.c)(w),r=Object(a.useState)(c),i=Object(d.a)(r,2),s=i[0],b=i[1],j=Object(a.useState)(o?o.time:""),O=Object(d.a)(j,2),h=O[0],m=O[1],f=Object(a.useState)((null===o||void 0===o?void 0:o.notes)||""),x=Object(d.a)(f,2),p=x[0],y=x[1],D=null===o||void 0===o?void 0:o.id,k=Object(l.b)(),N=function(e){var t=e.target,n=t.value,a=t.name;b(c),"event-date"===a&&(b(n),console.log(n)),"event-time"===a&&(m(n),console.log(h)),"event-notes"===a&&(n.length<=30?y(n):alert("Too many symbols"))};return Object(u.jsx)("div",{id:"modal",style:t,children:Object(u.jsx)("ul",{children:Object(u.jsx)("li",{children:Object(u.jsxs)("form",{action:"submit",onSubmit:function(e){if(e.preventDefault(),n(),console.log(h),o)0!==h.length&&0!==p.length&&k(C({date:s,time:h,notes:p,id:D}));else{new Date;0!==h.length&&0!==p.length?(k(g({date:s,time:h,notes:p,id:v.a.generate()})),b(""),m(""),y("")):alert("All fields required")}},children:[Object(u.jsx)("label",{htmlFor:"event-date",children:"event date"}),Object(u.jsx)("input",{type:"date",name:"event-date",value:c,onChange:N}),Object(u.jsx)("label",{htmlFor:"event-time",children:"event time"}),Object(u.jsx)("input",{type:"time",name:"event-time",value:h,onChange:N}),Object(u.jsx)("label",{htmlFor:"event-notes",children:"event notes"}),Object(u.jsx)("input",{type:"text",name:"event-notes",onChange:N,value:p}),Object(u.jsxs)("div",{className:"modal-buttons",children:[o?Object(u.jsx)("button",{type:"button",onClick:function(){k(M(o))},children:"Remove"}):Object(u.jsx)("button",{type:"button",onClick:n,children:"Cancel"}),o?Object(u.jsx)("button",{type:"submit",children:"Change"}):Object(u.jsx)("button",{type:"submit",children:"Save"})]})]})})})})};var H,A=function(){j.a.updateLocale("en",{week:{dow:1}});var e=Object(a.useState)(j()()),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(d.a)(o,2),i=r[0],s=r[1],b=Object(a.useState)({}),m=Object(d.a)(b,2),f=m[0],x=m[1],v=Object(a.useState)(""),p=Object(d.a)(v,2),y=p[0],g=p[1],M=Object(l.b)(),C=n.clone().startOf("month").startOf("week"),k=n.clone().format("MMMM YYYY"),w=function(e,t){e.preventDefault(),x({left:"".concat(e.pageX-100.5,"px"),top:"".concat(e.pageY+40,"px")}),s(!0),console.log(f)};return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(O,{}),Object(u.jsx)(h,{currentMonth:k,nextMonthHandler:function(){return c(n.clone().add(1,"month"))},currentMonthHandler:function(){return c(j()())},prevMonthHandler:function(){return c(n.clone().subtract(1,"month"))}}),Object(u.jsx)(Y,{firstDay:C,selectedMonth:n,handleOpenModal:function(e,t){g(t.format("YYYY-MM-DD")),"todo"!==e.target.id&&(w(e),M(D(null)))},handleModalPosition:w}),i&&Object(u.jsx)(S,{cursorPos:f,handleModalClose:function(){s(!1)},chosenDate:y})]})},P=n(9),T=n(11),F=n(2),B=n(27),J=n.n(B),R=n(8),q=n(28),z={key:"Todos",storage:n.n(q).a},E=Object(y.c)({items:[],current:{}},(H={},Object(P.a)(H,g,(function(e,t){var n=t.payload;if(new Date<new Date("".concat(n.date,", ").concat(n.time)))return{items:[].concat(Object(m.a)(e.items),[n])};alert("it is impossible to record an event on the previous date")})),Object(P.a)(H,M,(function(e,t){var n=t.payload;return{items:Object(m.a)(e.items.filter((function(e){return e.id!==n.id})))}})),Object(P.a)(H,C,(function(e,t){var n=t.payload;return{items:[].concat(Object(m.a)(e.items.filter((function(e){return e.id!==n.id}))),[n])}})),Object(P.a)(H,D,(function(e,t){var n=t.payload;return Object(T.a)(Object(T.a)({},e),{},{current:n})})),H)),G=Object(F.b)({todos:E}),I=Object(R.g)(z,G),L=[].concat(Object(m.a)(Object(y.d)({serializableCheck:{ignoredActions:[R.a,R.f,R.b,R.c,R.d,R.e]}})),[J.a]),V=Object(y.a)({reducer:I,devTools:!1,middleware:L}),W=Object(R.h)(V);i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(l.a,{store:V,children:Object(u.jsx)(s.PersistGate,{loading:null,persistor:W,children:Object(u.jsx)(A,{})})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.c3364349.chunk.js.map